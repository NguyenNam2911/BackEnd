<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <!-- Bootstrap CSS -->    
        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <!-- bootstrap theme -->
        <link href="css/bootstrap-theme.css" rel="stylesheet" />
        <!--external css-->
        <!-- font icon -->
        <link href="css/elegant-icons-style.css" rel="stylesheet" />
        <link href="css/font-awesome.css" rel="stylesheet" />
        <h:outputStylesheet name="css/style.css"  />
        <!-- Custom styles -->
        <link href="css/style.css" rel="stylesheet">
            <link href="css/style-responsive.css" rel="stylesheet" /></link>
    </h:head>

    <h:body class="login-img3-body">
        <f:view>
            <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
                <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                    <img src="img/ajax-loader2.gif" />
                </p:dialog>
            <div class="container">
                <h:form class="login-form" id="loginForm">  
                    <p:messages id="sss"/>
                    <div class="login-wrap" id="login">
                        <p class="login-img"><i class="icon_lock_alt"></i></p>
                        
                        <div class="input-group">
                            <span class="input-group-addon"><i class="icon_profile"></i></span>
                            <h:inputText class="form-control" value="#{loginManagedBean.email}" 
                                         validatorMessage="Invalid email format"
                                         a:placeholder="Enter Email">
                                <f:validateRegex  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            </h:inputText>
                        </div>
                        
                        <div class="input-group">
                            <span class="input-group-addon"><i class="icon_key_alt"></i></span>
                            <h:inputSecret class="form-control" value="#{loginManagedBean.password}" a:placeholder="Password"/>
                        </div>
                        
                        <div style="text-align: center;">
                            <h:commandLink actionListener="#{loginManagedBean.preResetPass()}" value="Forgot password" immediate="true"/>
                        </div>
                        
                        <br></br><p:commandButton class="btn btn-primary btn-lg btn-block"  style="background-color:#CC0000; border-color:#CC0000" action="#{loginManagedBean.checkLogin()}" value="Login" process="@this, loginForm" update=":loginForm:sss"/>
                    </div>
                </h:form>
            </div>
        </f:view>

    </h:body>
</html>


